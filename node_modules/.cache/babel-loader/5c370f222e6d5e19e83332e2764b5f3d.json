{"ast":null,"code":"import Item1 from '../../images/item1.jpg';\nimport Item2 from '../../images/item2.jpg';\nimport Item3 from '../../images/item3.jpg';\nimport Item4 from '../../images/item4.jpg';\nimport Item5 from '../../images/item5.jpg';\nimport Item6 from '../../images/item6.jpg';\nconst initState = {\n  items: [{\n    id: 1,\n    title: 'Kitten1',\n    desc: \"Cute little kitten, 3 months old\",\n    price: 100,\n    img: Item1\n  }, {\n    id: 2,\n    title: 'Kitten2',\n    desc: \"Cute little kitten, 3 months old\",\n    price: 100,\n    img: Item2\n  }, {\n    id: 3,\n    title: 'Kitten3',\n    desc: \"Cute little kitten, 3 months old\",\n    price: 100,\n    img: Item3\n  }, {\n    id: 4,\n    title: 'Kitten4',\n    desc: \"Cute little kitten, 3 months old\",\n    price: 100,\n    img: Item4\n  }, {\n    id: 5,\n    title: 'Kitten5',\n    desc: \"Cute little kitten, 3 months old\",\n    price: 100,\n    img: Item5\n  }, {\n    id: 6,\n    title: 'Kitten6',\n    desc: \"Cute little kitten, 3 months old\",\n    price: 100,\n    img: Item6\n  }],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  //INSIDE HOME COMPONENT\n  if (action.type === ADD_TO_CART) {\n    let addedItem = state.items.find(item => item.id === action.id); //check if the action id exists in the addedItems\n\n    let existed_item = state.addedItems.find(item => action.id === item.id);\n\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return { ...state,\n        total: state.total + addedItem.price\n      };\n    } else {\n      addedItem.quantity = 1; //calculating the total\n\n      let newTotal = state.total + addedItem.price;\n      return { ...state,\n        addedItems: [...state.addedItems, addedItem],\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.addedItems.find(item => action.id === item.id);\n    let new_items = state.addedItems.filter(item => action.id !== item.id); //calculating the total\n\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return { ...state,\n      addedItems: new_items,\n      total: newTotal\n    };\n  } //INSIDE CART COMPONENT\n\n\n  if (action.type === ADD_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    addedItem.quantity += 1;\n    let newTotal = state.total + addedItem.price;\n    return { ...state,\n      total: newTotal\n    };\n  }\n\n  if (action.type === SUB_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id); //if the qt == 0 then it should be removed\n\n    if (addedItem.quantity === 1) {\n      let new_items = state.addedItems.filter(item => item.id !== action.id);\n      let newTotal = state.total - addedItem.price;\n      return { ...state,\n        addedItems: new_items,\n        total: newTotal\n      };\n    } else {\n      addedItem.quantity -= 1;\n      let newTotal = state.total - addedItem.price;\n      return { ...state,\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === ADD_SHIPPING) {\n    return { ...state,\n      total: state.total + 6\n    };\n  }\n\n  if (action.type === 'SUB_SHIPPING') {\n    return { ...state,\n      total: state.total - 6\n    };\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/dingjunning/Documents/GitHub/shopping-cart/src/components/reducers/cartReducer.js"],"names":["Item1","Item2","Item3","Item4","Item5","Item6","initState","items","id","title","desc","price","img","addedItems","total","cartReducer","state","action","type","ADD_TO_CART","addedItem","find","item","existed_item","quantity","newTotal","REMOVE_ITEM","itemToRemove","new_items","filter","console","log","ADD_QUANTITY","SUB_QUANTITY","ADD_SHIPPING"],"mappings":"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","sourcesContent":["import Item1 from '../../images/item1.jpg'\nimport Item2 from '../../images/item2.jpg'\nimport Item3 from '../../images/item3.jpg'\nimport Item4 from '../../images/item4.jpg'\nimport Item5 from '../../images/item5.jpg'\nimport Item6 from '../../images/item6.jpg'\n\nconst initState = {\n    items: [\n        {id:1,title:'Kitten1', desc: \"Cute little kitten, 3 months old\", price:100,img:Item1},\n        {id:2,title:'Kitten2', desc: \"Cute little kitten, 3 months old\", price:100,img: Item2},\n        {id:3,title:'Kitten3', desc: \"Cute little kitten, 3 months old\",price:100,img: Item3},\n        {id:4,title:'Kitten4', desc: \"Cute little kitten, 3 months old\", price:100,img:Item4},\n        {id:5,title:'Kitten5', desc: \"Cute little kitten, 3 months old\", price:100,img: Item5},\n        {id:6,title:'Kitten6', desc: \"Cute little kitten, 3 months old\",price:100,img: Item6}\n    ],\n    addedItems:[],\n    total: 0\n\n}\nconst cartReducer= (state = initState,action)=>{\n    //INSIDE HOME COMPONENT\n    if(action.type === ADD_TO_CART){\n          let addedItem = state.items.find(item=> item.id === action.id)\n          //check if the action id exists in the addedItems\n         let existed_item= state.addedItems.find(item=> action.id === item.id)\n         if(existed_item)\n         {\n            addedItem.quantity += 1 \n             return{\n                ...state,\n                 total: state.total + addedItem.price \n                  }\n        }\n         else{\n            addedItem.quantity = 1;\n            //calculating the total\n            let newTotal = state.total + addedItem.price \n            \n            return{\n                ...state,\n                addedItems: [...state.addedItems, addedItem],\n                total : newTotal\n            }\n            \n        }\n    }\n    if(action.type === REMOVE_ITEM){\n        let itemToRemove= state.addedItems.find(item=> action.id === item.id)\n        let new_items = state.addedItems.filter(item=> action.id !== item.id)\n        \n        //calculating the total\n        let newTotal = state.total - (itemToRemove.price * itemToRemove.quantity )\n        console.log(itemToRemove)\n        return{\n            ...state,\n            addedItems: new_items,\n            total: newTotal\n        }\n    }\n    //INSIDE CART COMPONENT\n    if(action.type=== ADD_QUANTITY){\n        let addedItem = state.items.find(item=> item.id === action.id)\n          addedItem.quantity += 1 \n          let newTotal = state.total + addedItem.price\n          return{\n              ...state,\n              total: newTotal\n          }\n    }\n    if(action.type=== SUB_QUANTITY){  \n        let addedItem = state.items.find(item=> item.id === action.id) \n        //if the qt == 0 then it should be removed\n        if(addedItem.quantity === 1){\n            let new_items = state.addedItems.filter(item=>item.id !== action.id)\n            let newTotal = state.total - addedItem.price\n            return{\n                ...state,\n                addedItems: new_items,\n                total: newTotal\n            }\n        }\n        else {\n            addedItem.quantity -= 1\n            let newTotal = state.total - addedItem.price\n            return{\n                ...state,\n                total: newTotal\n            }\n        }\n        \n    }\n\n    if(action.type=== ADD_SHIPPING){\n          return{\n              ...state,\n              total: state.total + 6\n          }\n    }\n\n    if(action.type=== 'SUB_SHIPPING'){\n        return{\n            ...state,\n            total: state.total - 6\n        }\n  }\n    \n  else{\n    return state\n    }\n    \n}\n\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}